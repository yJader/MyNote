## 实验二 

存储器模块

<img src="https://yj-notes.oss-cn-hangzhou.aliyuncs.com/image/image-20230421112718877.png" alt="image-20230421112718877" style="zoom: 50%;" /> 

1. RAM端口

   - MBUS=1 数据线读出;  =0 数据线写入

   - MENW=1 写入模式;  =0 读出模式

   - 总结: 写入: MBUS=0, MENW=1; 读出MBUS=1; MENW=0
   - T2: 时钟信号

2. AR

   - CLR#: 复位按钮 (在QD按钮旁边, 对多个寄存器清零)

   - $\begin{cases}DBUS的地址→AR     &LAR=1
     \\ AR+1→AR &ARINC=1 
     \end{cases}$
     - LAR和ARINC不能同时为1, 但是可以同时为0
   - T3: 改写用的时钟信号

3. PC

   - $\begin{cases}DBUS的地址→PC     &LPC=1
     \\ PC+1→PC &PCINC=1 
     \\ PC+IR→PC &PCADD=1\textcolor{orange}{(偏移寻址, 不常用)}
     \end{cases}$ 

- 与存储器相关的指示灯灯

  | 信号名称                 | 信号灯符号 |
  | ------------------------ | ---------- |
  | 程序计数器指示灯         | PC7~PC0    |
  | 地址寄存器指示灯         | AR7~AR0    |
  | 指令寄存器指示灯         | IR7~IR0    |
  | 双端口存储器右端口指示灯 | INS7~INS0  |
  | 数据总线指示灯           | D7~D0      |

### (一)

#### 存储器写

1. 送入起始地址 $SD(地址)\stackrel{DBUS}\longrightarrow AR, PC(观察用)$ 

   1. `SD=10H`
   2. `SBUS=1`
   3. `LAR=1, ARINC=0; LPC=1, PCINC=0`
   4. 按一下QD(T3)

2. 送入数据 $SD(数据)\stackrel{DBUS}\longrightarrow RAM(左)即AR$ 

   - ==注意==: LAR=0; LPC=0 防止地址改变

   1. `SD=85H (数据)`
   2. `SBUS=1`
   3. `MBUS=0`
   4. `MEMW=1`
      - 为自增地址: `ARINC=1(自增)` ; `PCINC=1 `但是注意PCINC置1需要滞后一轮, 用于观察上一次的AR
   5. 按一下QD
   6. 验证: 查看右端口灯

- 分两步的原因: 只有一条总线DBUS, 它需要传输数据和地址

#### 存储器读



### (二) 建立数据通路