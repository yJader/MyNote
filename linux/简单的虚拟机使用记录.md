# 虚拟机使用

## 环境配置

### 换源

[清华镜像](https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/)

```shell
sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
sudo vim /etc/apt/sources.list

sudo apt update # 更新源
sudo apt upgrade
```

```shell
# 刚进入vim 处于命令行输入模式
# d: delete, G: 文档末尾, 即从光标位置开始, 删除到文章末尾
dG
# p: paste
p
# 保存退出, 注意需要冒号
:wq
```



### ssh

```bash
sudo apt install openssh-server
sudo systemctl enable ssh / sshd?
```

编辑`/etc/ssh/sshd_config`

```shell
vim /etc/ssh/sshd_config
```

```config
PasswordAuthentication yes
```

启动ssh服务

```bash
sudo systemctl start ssh
```

开机自启动

```bash
sudo systemctl enable ssh
```

#### ssh密钥登录

1. 生成SSH密钥对(客户机和服务器都需要)

   ```bash
   sudo ssh-keygen
   ```

2. 将客户机生成的公钥(默认位于`/user/username/.ssh/id_rsa.pub`文件夹内) 拷贝到服务器的`/home/.ssh`(也可能在`/home/your_username/.ssh`)中

   ```shell
    ssh-copy-id -i ~/.ssh/id_rsa.pub {username}@{server_ip}
    wsl ssh-copy-id -i /mnt/c/Users/14258/.ssh/id_rsa.pub {username}@{server_ip} # 在windows环境下
   ```

   

### cpp开发需要的包

```bash

```

### ifconfig

```bash
sudo apt install net-tools
```





## 问题

### 重启后没网

>  [怎么解决在vmware虚拟机下ubuntu linux系统重启后不能联网的问题_Engineer-Bruce_Yang的博客-CSDN博客](https://blog.csdn.net/morixinguan/article/details/118886890)

问题情况: 重启后网络图标消失, 无法联网

原因: NetworkManager服务启动失败





