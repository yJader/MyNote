# 虚拟机使用

## 环境配置

### 换源

[清华镜像](https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/)

```
sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
vim /etc/apt/sources.list
```



### ssh

```bash
sudo apt install openssh-server
sudo systemctl enable ssh
```

编辑`/etc/ssh/sshd_config`

```config
PasswordAuthentication yes
```

启动ssh服务

```bash
sudo systemctl start ssh
```

开机自启动

```bash
sudo systemctl enable ssh
```

#### ssh密钥登录

1. 生成SSH密钥对(客户机和服务器都需要)

   ```bash
   ssh-keygen
   ```

2. 将客户机生成的公钥(默认位于`/user/username/.ssh/id_rsa.pub`文件夹内) 拷贝到服务器的`/home/.ssh`中

3. 服务器添加key

   ```bash
   touch authorized_keys               # 如果ssh中存在此文件则省略此步骤
   cat id_rsa.pub >> authorized_keys   # 将id_rsa.pub的内容追加到authorized_keys
   ```

4. 额外设置

   ```config
   [root@centos-004 .ssh]#vim /etc/ssh/sshd_config
    
   RSAAuthentication yes
   PubkeyAuthentication yes
   # The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2
   # but this is overridden so installations will only check .ssh/authorized_keys
   AuthorizedKeysFile      .ssh/authorized_keys
   ```

   

### cpp开发需要的包

```bash
sudo apt install build-essential gdb cmake
```

### ifconfig

```bash
sudo apt install net-tools
```





## 问题

### 重启后没网

>  [怎么解决在vmware虚拟机下ubuntu linux系统重启后不能联网的问题_Engineer-Bruce_Yang的博客-CSDN博客](https://blog.csdn.net/morixinguan/article/details/118886890)

问题情况: 重启后网络图标消失, 无法联网

原因: NetworkManager服务启动失败